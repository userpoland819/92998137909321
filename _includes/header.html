<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<header class="header-section">
    <div class="header-container">
        <div class="logo-section">
            <a href="{{ '/' | relative_url }}">
                <img src="https://umarysi.pl/wp-content/uploads/2024/04/limar-dark.png" 
                     alt="Li-Mar Logo" 
                     srcset="https://umarysi.pl/wp-content/uploads/2024/04/limar-dark.png 500w, 
                             https://umarysi.pl/wp-content/uploads/2024/04/limar-dark-300x66.png 300w" 
                     sizes="(max-width: 500px) 100vw, 500px">
            </a>
        </div>

        <nav class="nav-section">
            <ul class="main-nav">
                <li><a href="{{ '/' | relative_url }}" class="{% if page.url == '/' %}active{% endif %}">Strona Główna</a></li>
                <li><a href="{{ '/li-mar' | relative_url }}" class="{% if page.url contains 'li-mar' %}active{% endif %}">Pensjonat Li-Mar</a></li>
                <li><a href="{{ '/u-marysi' | relative_url }}" class="{% if page.url contains 'u-marysi' %}active{% endif %}">Pensjonat u Marysi</a></li>
                <li><a href="{{ '/kontakt' | relative_url }}" class="{% if page.url contains 'kontakt' %}active{% endif %}">Kontakt</a></li>
                <li><a href="{{ '/tarcza-finansowa-2-0' | relative_url }}" class="{% if page.url contains 'tarcza-finansowa' %}active{% endif %}">Tarcza Finansowa 2.0</a></li>
            </ul>
        </nav>

        <div class="contact-section">
            <button class="mobile-toggle" id="mobileToggle" aria-label="Menu Toggle">
                <i class="fas fa-bars menu-icon"></i>
                <i class="fas fa-times close-icon"></i>
            </button>
            
            <a href="{{ '/kontakt' | relative_url }}" class="contact-btn">KONTAKT</a>
        </div>
    </div>

    <nav class="mobile-nav" id="mobileNav">
        <ul>
            <li><a href="{{ '/' | relative_url }}" class="{% if page.url == '/' %}active{% endif %}">Strona Główna</a></li>
            <li><a href="{{ '/li-mar' | relative_url }}" class="{% if page.url contains 'li-mar' %}active{% endif %}">Pensjonat Li-Mar</a></li>
            <li><a href="{{ '/u-marysi' | relative_url }}" class="{% if page.url contains 'u-marysi' %}active{% endif %}">Pensjonat u Marysi</a></li>
            <li><a href="{{ '/kontakt' | relative_url }}" class="{% if page.url contains 'kontakt' %}active{% endif %}">Kontakt</a></li>
            <li><a href="{{ '/tarcza-finansowa-2-0' | relative_url }}" class="{% if page.url contains 'tarcza-finansowa' %}active{% endif %}">Tarcza Finansowa 2.0</a></li>
        </ul>
    </nav>
</header>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const mobileToggle = document.getElementById('mobileToggle');
        const mobileNav = document.getElementById('mobileNav');

        if (mobileToggle && mobileNav) {
            mobileToggle.addEventListener('click', function() {
                mobileNav.classList.toggle('active');
                this.classList.toggle('active');
            });

            // Zamknij menu po kliknięciu linku
            const mobileNavLinks = mobileNav.querySelectorAll('a');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', function() {
                    mobileNav.classList.remove('active');
                    mobileToggle.classList.remove('active');
                });
            });
        }
    });
</script>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* Header Styles */
    .header-section {
        background: #fff;
        padding: 15px 0;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        z-index: 1000; /* Upewnij się, że header jest zawsze na wierzchu */

        /* === KLUCZOWE ZMIANY DLA STICKY HEADER === */
        position: sticky; /* Nagłówek będzie "przylegać" do góry */
        top: 0;           /* Przylega do górnej krawędzi okna przeglądarki */
        width: 100%;      /* Upewnij się, że rozciąga się na całą szerokość */
        /* ========================================= */
    }

    .header-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* Logo Section */
    .logo-section {
        flex: 0 0 auto;
    }

    .logo-section a {
        display: inline-block;
        text-decoration: none;
    }

    .logo-section img {
        height: 50px;
        width: auto;
        max-width: 200px;
    }

    /* Navigation Section (Desktop) */
    .nav-section {
        flex: 1;
        display: flex;
        justify-content: center;
    }

    .main-nav {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
        gap: 30px;
    }

    .main-nav li {
        position: relative;
    }

    .main-nav a {
        color: #1D2228;
        text-decoration: none;
        font-weight: 500;
        font-size: 16px;
        padding: 10px 0;
        transition: all 0.3s ease;
        position: relative;
    }

    .main-nav a:hover,
    .main-nav a.active {
        color: #1D2228;
    }

    .main-nav a::after {
        content: '';
        position: absolute;
        top: -20px; /* Może być potrzebne dostosowanie tej wartości, jeśli zmienił się padding nagłówka */
        left: 0;
        width: 0;
        height: 4px;
        background: #FB8122;
        transition: width 0.3s ease;
    }

    .main-nav a:hover::after,
    .main-nav a.active::after {
        width: 100%;
    }

    /* Contact Button Section */
    .contact-section {
        flex: 0 0 auto;
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .contact-btn {
        background: #FB8122;
        color: white;
        padding: 8px 20px;
        height: 38px;
        text-decoration: none;
        border-radius: 0px;
        font-weight: 500;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    .contact-btn:hover {
        background: #0056b3; /* Zachowaj ten kolor z poprzedniej wersji, jeśli to zamierzony efekt */
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,123,255,0.3);
    }

    /* Mobile Menu Toggle */
    .mobile-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 24px;
        color: #1D2228;
        cursor: pointer;
        z-index: 1001; /* Upewnij się, że toggle jest nad menu mobilnym */
        position: relative;
        padding: 8px;
        transition: all 0.3s ease;
    }

    .mobile-toggle .close-icon {
        display: none;
    }

    .mobile-toggle.active .menu-icon {
        display: none;
    }

    .mobile-toggle.active .close-icon {
        display: block;
    }

    /* Mobile Navigation - Dropdown Style */
    .mobile-nav {
        display: none; /* Domyślnie ukryte */
        position: absolute; /* Zostawiamy absolute, aby pojawiało się pod headerem */
        top: 100%; /* Rozpocznie się dokładnie pod headerem */
        left: 0;
        width: 100%;
        background: #fff;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        z-index: 999;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out; /* Animacja wysokości */
    }

    .mobile-nav.active {
        display: block; /* Pokaż, gdy aktywne */
        max-height: 400px; /* Wystarczająca wysokość dla zawartości menu */
    }

    .mobile-nav ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .mobile-nav li {
        border-bottom: 1px solid #f0f0f0;
    }

    .mobile-nav li:last-child {
        border-bottom: none;
    }

    .mobile-nav a {
        color: #1D2228;
        text-decoration: none;
        font-size: 16px;
        font-weight: 500;
        display: block;
        padding: 15px 20px;
        transition: all 0.3s ease;
    }

    .mobile-nav a:hover,
    .mobile-nav a.active {
        color: #FB8122;
        background: #f8f9fa;
        padding-left: 30px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .header-container {
            padding: 0 15px;
        }

        .nav-section {
            display: none;
        }

        .mobile-toggle {
            display: block;
        }

        .logo-section img {
            height: 40px;
            max-width: 150px;
        }

        .contact-btn {
            padding: 6px 15px;
            font-size: 13px;
            height: 32px;
        }
    }

    /* Tablet adjustments */
    @media (max-width: 992px) and (min-width: 769px) {
        .main-nav {
            gap: 20px;
        }

        .main-nav a {
            font-size: 15px;
        }

        .contact-btn {
            padding: 10px 20px;
            font-size: 14px;
        }
    }

    @media (max-width: 1024px) and (min-width: 769px) {
        .main-nav {
            gap: 15px;
        }
    }

    .content-wrapper {
        /* Dodaj padding-top do body lub do głównego kontenera treści, 
           aby treść nie chowała się pod sticky headerem.
           Wysokość headera to około 80px (padding 15px góra/dół + wysokość logo). 
           Dostosuj wartość. */
        padding-top: 80px; /* Przykładowa wartość, może wymagać precyzyjnego dopasowania */
        min-height: calc(100vh - 120px);
    }
</style>